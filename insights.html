<!doctype html>
<html lang="en-IN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Insights — RK Estates</title>
  <meta name="description" content="Market notes and insights from RK Estates for South Delhi & Gurgaon." />
  <link rel="icon" href="/favicon.png" />

  <!-- Fonts + Tailwind -->
  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { navy:'#0e1421', royal:'#2563eb', muted:'#94a3b8' },
          fontFamily: { sans:['Inter','ui-sans-serif','system-ui'], serif:['Playfair Display','ui-serif'] },
          boxShadow: { ring: '0 0 0 2px #2563eb33' }
        }
      }
    }
  </script>
  <style>
    .glass{background:rgba(255,255,255,.06);backdrop-filter:blur(10px)}
  </style>
</head>

<body class="bg-navy text-white font-sans antialiased selection:bg-royal/30">
  <!-- Header -->
  <header class="fixed inset-x-0 top-0 z-50">
    <div class="mx-auto max-w-6xl px-4">
      <div class="mt-4 rounded-2xl glass border border-white/10">
        <div class="flex items-center justify-between px-4 py-3">
          <a href="/index.html" class="flex items-center gap-3">
            <img src="/logo.png" class="h-8 w-8 rounded-xl border border-white/10 object-cover" alt="RK Estates logo" />
            <span class="text-lg tracking-wide font-semibold">RK Estates</span>
          </a>
          <nav class="hidden md:flex items-center gap-8 text-sm text-white/80">
            <a class="hover:text-white" href="/about.html">About</a>
            <a class="hover:text-white" href="/buyers.html">Post Requirement</a>
            <a class="hover:text-white" href="/owners.html">List Property</a>
            <a class="text-white" href="/insights.html">Insights</a>
            <a class="hover:text-white" href="/contact.html">Contact</a>
          </nav>
          <button id="menuBtn" class="md:hidden p-2 rounded-xl border border-white/10 hover:bg-white/5" aria-label="Open menu">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M4 7h16M4 12h16M4 17h16" stroke="white" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
        <!-- Mobile nav -->
        <div id="mobileNav" class="hidden md:hidden px-4 pb-4">
          <div class="mt-2 rounded-xl border border-white/10 bg-white/5 divide-y divide-white/10">
            <a class="block px-4 py-3 text-white/90 hover:bg-white/5" href="/about.html">About</a>
            <a class="block px-4 py-3 text-white/90 hover:bg-white/5" href="/buyers.html">Post Requirement</a>
            <a class="block px-4 py-3 text-white/90 hover:bg-white/5" href="/owners.html">List Property</a>
            <a class="block px-4 py-3 text-white/90 hover:bg-white/5" href="/insights.html">Insights</a>
            <a class="block px-4 py-3 text-white/90 hover:bg-white/5" href="/contact.html">Contact</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="pt-36 md:pt-40">
    <div class="mx-auto max-w-6xl px-4 grid md:grid-cols-2 gap-10 items-start">
      <div>
        <h1 class="font-serif text-4xl md:text-5xl leading-tight">Insights &amp; Market<br/>Updates</h1>
        <p class="mt-3 text-white/75 max-w-xl">
          Useful notes from the ground across Defence Colony, Vasant Vihar, Westend, Panchsheel, GK, LBZ &amp; Gurgaon.
        </p>
        <!-- (Intentionally no extra tagline/CTA here to keep the left side clean) -->
      </div>
      <div class="rounded-2xl overflow-hidden border border-white/10">
        <!-- Use any hero image you like; this one matches your current design -->
        <img src="/assets/mupdate.jpg" alt="India real estate map with modern skyline markers" class="w-full h-full object-cover" loading="lazy">
      </div>
    </div>
  </section>

  <!-- Cards (from assets/insights.json) -->
  <main class="mx-auto max-w-6xl px-4 mt-10 pb-16">
    <section id="cards" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6"></section>
    <div id="empty" class="hidden mt-8 text-white/70">
      Could not load <code>assets/insights.json</code>. Check the file path/casing.
    </div>
  </main>

  <!-- Footer -->
  <footer class="border-t border-white/10">
    <div class="mx-auto max-w-6xl px-4 py-10 grid sm:grid-cols-2 lg:grid-cols-4 gap-8 text-sm text-white/70">
      <div>
        <h4 class="font-semibold text-white">RK Estates</h4>
        <p class="mt-2">South Delhi (Defence Colony, Vasant Vihar, Westend, Panchsheel, GK) &amp; Gurgaon. Verified, confidential, and outcome-focused.</p>
      </div>
      <div>
        <h5 class="font-semibold text-white/90">Quick Links</h5>
        <ul class="mt-2 space-y-2">
          <li><a href="/about.html" class="hover:text-white">About</a></li>
          <li><a href="/buyers.html" class="hover:text-white">Post Requirement</a></li>
          <li><a href="/owners.html" class="hover:text-white">List Property</a></li>
          <li><a href="/insights.html" class="hover:text-white">Insights</a></li>
          <li><a href="/contact.html" class="hover:text-white">Contact</a></li>
        </ul>
      </div>
      <div>
        <h5 class="font-semibold text-white/90">Privacy</h5>
        <p class="mt-2">All submissions are confidential and reviewed only by our advisory team.</p>
      </div>
      <div>
        <h5 class="font-semibold text-white/90">Contact</h5>
        <ul class="mt-2 space-y-2">
          <li>WhatsApp: <a class="hover:text-white" href="https://wa.me/919810026202">+91 98100 26202</a></li>
          <li>Email: <a class="hover:text-white" href="mailto:s.arorashray@gmail.com">s.arorashray@gmail.com</a></li>
        </ul>
      </div>
    </div>
    <div class="text-center text-xs text-white/50 pb-8">© 2025 RK Estates. All rights reserved.</div>
  </footer>

  <script>
    // mobile nav
    const menuBtn = document.getElementById('menuBtn');
    const mobileNav = document.getElementById('mobileNav');
    if (menuBtn && mobileNav) menuBtn.addEventListener('click', () => mobileNav.classList.toggle('hidden'));

    // helpers
    const fmtDate = iso => {
      const d = new Date(iso);
      return isNaN(d) ? iso : d.toLocaleDateString('en-IN', { day:'2-digit', month:'short', year:'numeric' });
    };

    // robust image join: accepts "assets/.." or "/assets/.."
    const cardHTML = p => {
      const imgSrc = p.image ? (p.image.startsWith('/') ? p.image : `/${p.image}`) : null;
      return `
        <article class="rounded-2xl border border-white/10 bg-white/5 overflow-hidden hover:bg-white/[.07] transition">
          ${imgSrc ? `<img src="${imgSrc}" alt="${p.title}" class="h-40 w-full object-cover" loading="lazy">` : ''}
          <div class="p-5">
            <div class="text-xs text-white/55">${fmtDate(p.date)}</div>
            <h3 class="mt-1 text-lg font-semibold">${p.title}</h3>
            <p class="mt-2 text-sm text-white/70 line-clamp-3">${p.summary || ''}</p>
            ${
              p.link
                ? `<a href="${p.link}" class="inline-block mt-4 text-sm text-royal hover:underline">Read more →</a>`
                : (p.slug ? `<a href="/article.html?slug=${encodeURIComponent(p.slug)}" class="inline-block mt-4 text-sm text-royal hover:underline">Read more →</a>` : '')
            }
          </div>
        </article>
      `;
    };

    // load posts (use RELATIVE path so it works on GitHub Pages/Vercel subpaths)
    const cards = document.getElementById('cards');
    const empty = document.getElementById('empty');

    fetch('assets/insights.json')
      .then(r => r.json())
      .then(list => {
        list.sort((a,b) => new Date(b.date) - new Date(a.date)); // newest first
        if (!list.length) { empty.classList.remove('hidden'); return; }
        list.forEach(p => cards.insertAdjacentHTML('beforeend', cardHTML(p)));
      })
      .catch(() => {
        empty.classList.remove('hidden');
      });
  </script>
</body>
</html>
